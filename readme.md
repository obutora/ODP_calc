# ODP

## å®Ÿè£…æˆ¦ç•¥
- ãƒŸã‚¹ã‚¼ãƒ­å­ã®è¦ªæ©Ÿã«å°å…¥ã™ã‚‹
  - ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ€ãƒ¼ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½¿ç”¨ã§ãã‚‹ãŸã‚ã€ã“ã‚Œã‚’å…¥åŠ›ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã€‚
- å®Ÿè£…ã¯Flutterã«ã¦è¡Œã†ã€‚ï¼ˆFlutter Winddows Desktopï¼‰
- ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã®ãŒé›£ã—ã„ã®ã§ã€ã‚¿ãƒƒãƒæ“ä½œå¯èƒ½ãªUIã‚’å®Ÿè£…ã™ã‚‹
- ã¾ãŸã€ç”»é¢ã‚µã‚¤ã‚ºãŒéå¸¸ã«å°ã•ã„ã®ã§ã€ãã‚Œã«å¯¾å¿œã—ãŸUIã‚’å®Ÿè£…ã™ã‚‹

## å®Ÿè£…è¦ä»¶
### é›†è–¬æ™‚
â€ æ‚£è€…ç•ªå·ãŒæ‰‹å…¥åŠ›ã§ãã‚‹
- æ‚£è€…ç•ªå·ã‚’ãƒãƒ¼ã‚³ãƒ¼ãƒ‰å…¥åŠ›ã§ãã‚‹
- æ‚£è€…ç•ªå·ãŒå­˜åœ¨ã—ãªã„ã¨ãã€æ‚£è€…ç™»éŒ²ã§ãã‚‹
- ç™»éŒ²æ™‚ã«è–¬ãƒªã‚¹ãƒˆã®ç¢ºèªãŒã§ãã‚‹
- ç™»éŒ²æ™‚ã«è–¬ãƒªã‚¹ãƒˆã‚’ç·¨é›†ã§ãã‚‹
- ç™»éŒ²å®Œäº†ã§ãã‚‹
### å‡¦æ–¹æ™‚
â€ æ‚£è€…ç•ªå·ãŒæ‰‹å…¥åŠ›ã§ãã‚‹
- æ‚£è€…ç•ªå·ã‚’ãƒãƒ¼ã‚³ãƒ¼ãƒ‰å…¥åŠ›ã§ãã‚‹
- æ‚£è€…ç•ªå·ã‹ã‚‰MedCollectionsã‚’å–ã‚Šå‡ºã—ã¦ãƒã‚§ãƒƒã‚¯ã§ãã‚‹
- å–ã‚Šå‡ºã—ãŸMedCollectionsã‚’ä¸€æ‹¬ã§isCollectedã«å¤‰æ›´ã§ãã‚‹

## UIè¨­è¨ˆ
Figmaã«ã¦
https://www.figma.com/file/F7D6iuZsaUs7S1mYJKJRGp/ODP%E5%9C%A8%E5%BA%AB%E7%AE%A1%E7%90%86%E3%82%A2%E3%83%97%E3%83%AA?node-id=0%3A1&t=3qeMwRsSepiNHmRF-0

## ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ
### å‡¦æ–¹æ™‚
å‡¦æ–¹ãŒå‡ºãŸå¾Œã«ã€ODPãƒªã‚¹ãƒˆã‹ã‚‰è–¬ã‚’å‰Šé™¤ã™ã‚‹ç›®çš„ã§è¡Œã†ãƒ•ãƒ­ãƒ¼
```mermaid
flowchart TD
å‡¦æ–¹æ™‚ -- ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ --> æ‚£è€…ç•ªå·å…¥åŠ›
å‡¦æ–¹æ™‚ -- æ‰‹å…¥åŠ› --> æ‚£è€…ç•ªå·å…¥åŠ›
æ‚£è€…ç•ªå·å…¥åŠ› --> check{{æ‚£è€…ãŒæ­£ã—ã„ã‹å†…éƒ¨ãƒã‚§ãƒƒã‚¯}}
check -- åˆè‡´ --> è–¬ãƒªã‚¹ãƒˆã®ç¢ºèª
check -- åˆè‡´ã—ãªã„ --> æ‚£è€…ç•ªå·å…¥åŠ›
è–¬ãƒªã‚¹ãƒˆã®ç¢ºèª --> toFalse{{è–¬ãƒªã‚¹ãƒˆã‚’isCollectedã‚’falseã«}}
```

### æ¤œç´¢æ™‚
```mermaid
flowchart TD
æ¤œç´¢ãƒœã‚¿ãƒ³ -- int --> ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã¨åˆ¤å®š
ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã¨åˆ¤å®š --> é›†è–¬ç¢ºèªç”»é¢ã«é·ç§»
æ¤œç´¢ãƒœã‚¿ãƒ³ --> ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã®åˆ¤å®š
ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã®åˆ¤å®š -- æ‚£è€…åã§æ¤œç´¢ --> é›†è–¬ç¢ºèªç”»é¢ã«é·ç§»
ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ã®åˆ¤å®š -- è–¬å“åã§æ¤œç´¢ --> æ‚£è€…ãƒªã‚¹ãƒˆç¢ºèªç”»é¢ã«æ¨ç§»
```

### æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰åˆ¤å®šãƒ•ãƒ­ãƒ¼
```mermaid
flowchart TD
æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ --> int
æ¤œç´¢ãƒ¯ãƒ¼ãƒ‰ --> string
int -- 16æ¡ --> gs1[åŒ»è–¬å“GS-1]
gs1 --> gs1ã§MedCollectionã‚’æ¤œç´¢ --> MedPickCollection
int -- xæ¡ --> æ‚£è€…ID
æ‚£è€…ID --> æ‚£è€…IDã§MedCollectionã‚’æ¤œç´¢
string --> radio{{æ‚£è€…orè–¬åˆ¤å®šç”¨ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³}}
radio --> æ‚£è€…åã§MedCollectionã‚’æ¤œç´¢
radio --> è–¬åã§MedCollectionã‚’æ¤œç´¢ --> MedPickCollection

```
 - ^[\u4E00-\u9FFF]+$
   - ğŸ‘† ã§æ¼¢å­—ã®ã¿ã‚’æŠ½å‡ºã§ãã‚‹ãŒã€åå‰ã¨åŒ»è–¬å“ã®åˆ¤å®šã¯ä¸å¯èƒ½ã¨åˆ¤æ–­
   - ã‚«ã‚¿ã‚«ãƒŠå«ã‚€æ‚£è€…åã¨ã€æ¼¢æ–¹ã‚’åŒºåˆ¥ã§ããªã„ãŸã‚ã€‚
 
 ### æ¤œç´¢
```mermaid
flowchart TD
æ‚£è€…ID/åå‰ã‹è–¬ã‚’é¸æŠ -- æ‚£è€… --> æ‚£è€…æ¤œç´¢
æ‚£è€…æ¤œç´¢ --> IdOrName{{æ•°å­—ã‹æ–‡å­—ã§åˆ¤å®š}}
IdOrName --> æ‚£è€…ãƒªã‚¹ãƒˆã‚’æç¤º
æ‚£è€…ID/åå‰ã‹è–¬ã‚’é¸æŠ -- è–¬ --> è–¬æ¤œç´¢
è–¬æ¤œç´¢ --> é›†è–¬é‡ã¨æ‚£è€…åãƒªã‚¹ãƒˆã‚’æä¾›
```

### ä¸€æ‹¬å‡¦ç†
 - ä¸€æ‹¬ã§isCollectã‚’falseã«ã™ã‚‹
 - ä¸€æ‹¬ã§ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å°åˆ·ã™ã‚‹
 - ä¸€æ‹¬ã§æ›´æ–°ã•ã‚Œã¦ã„ãªã„æ‚£è€…ã‚’å‰Šé™¤ã™ã‚‹
 
 
### ãƒã‚¹ã‚¿ç·¨é›†
æ‚£è€…ãƒã‚¹ã‚¿ã€è–¬ãƒã‚¹ã‚¿ã‚’ç·¨é›†ã™ã‚‹
```mermaid
flowchart TD
ãƒã‚¹ã‚¿ç·¨é›† --> æ‚£è€…ç·¨é›†
ãƒã‚¹ã‚¿ç·¨é›† --> è–¬ç·¨é›†
```


### Entity
```mermaid
erDiagram

MedMaster }|--|{ MedCollection : ""
Patient }|--|| MedCollection : ""

    Patient {
        int id PK
        int patientId
        string name
        string katakana
    }

    MedCollection {
        int id PK
        int patientId
        int medMasterId
        int amount
        bool isCollected
        date updateAt
    }

    MedMaster {
        int id PK
        string name
        string unit
        List-String gs1CodeList
        bool isUsing
    }

```
**Patientï¼ˆidï¼‰**ã€€â†’ MedCollection(patientId)ã§ã‚ã‚Šã€**Patientï¼ˆpatientId)ã¯ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ä½¿ç”¨ã—ãªã„ã€‚**
